<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN" "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd">
<chapter>
  <title>ASCII Art in DocBook</title>

  <warning><para>The following explains how to mark up special cases
  of ASCII art in DocBook. For general guidelines on preparing
  illustrations&mdash;along with how and when to get in touch with our
  illustration staff&mdash;see <ulink
  url="https://prod.oreilly.com/external/illustrations/"/>. Thanks for
  your attention to these details.</para></warning>

    <sect1>
      <title>Incoming Text Blocks</title>

      <para>While it’s perfectly valid DocBook to have a
      <markup>&lt;figure&gt;</markup> that contains a “verbatim block”
      of text<footnote><para><markup>&lt;programlisting&gt;</markup>,
      <markup>&lt;screen&gt;</markup>, or
      <markup>&lt;literallayout&gt;</markup></para></footnote> instead
      of a pointer to a graphic file, using such markup creates
      ambiguities for production staff. Do you want the typeset book
      to display the text <emphasis>exactly</emphasis> as is (like
      code), or should the illustrator redraw it (“line art”) or
      process it in any other way (e.g., remapping fonts to match
      standard figures)?</para>

      <para>To avoid problems, please distinguish all figures
      containing text blocks as follows:</para>

      <variablelist>
	<varlistentry>
	  <term>“Sketch” for Figure to be Drawn by Illustrator</term>
	    <listitem>

	      <para>If you intend such a text block as a “sketch” to
	      be drawn or modified in any way by our illustrator,
	      please mark it up like so (<xref
	      linkend="text_for_graphic"/>):</para>

<programlisting>&lt;figure role="orm:drawme" id="<replaceable>FIG_ID</replaceable>"/&gt;</programlisting>

              <para>The <markup>@role="orm:drawme"</markup> attribute
              will signal our tools to sequence a proper placeholder
              for it during our intake process. The final version will
              be drawn by a professional illustrator, in consultation
              with you; for example, see <xref linkend="ascii_to_graphic_print_version"/>.</para>

	    </listitem>
	  </varlistentry>
	  <varlistentry>
	    <term>Text to be Kept Exactly As Is</term>
	    <listitem>
	      <para>If you want such a text block to be rendered
	      <emphasis>exactly</emphasis> as it appears in the PDF
	      generated by our build system, do not add the custom
	      <markup>@role</markup> attribute. When the manuscript
	      comes in to production, we will leave it as is, and it
	      will render just as in the PDF (i.e., using the same
	      font as for code, but placed inside a standard captioned
	      figure box). For example, see <xref
	      linkend="text_to_stet"/>.</para>
	    </listitem>
	  </varlistentry>
	</variablelist>

	<figure role="orm:drawme" id="text_for_graphic">
	  <title>ASCII Art to be Redrawn by Illustrator</title>
	  <programlisting><xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="figs/incoming/iq-interaction.txt" parse="text"/></programlisting>
	</figure>


	<figure id="ascii_to_graphic_print_version"> 
	  <title>Redrawn Version of <xref linkend="text_for_graphic"/></title>
	  <mediaobject>
	    <imageobject role="print">
	      <imagedata fileref="figs/print/xmpp_0205.pdf" format="PDF"/>
	    </imageobject>
	  </mediaobject>
	</figure>

	<figure id="text_to_stet">
	  <title>ASCII Art to be Kept As Is</title>
	  <programlisting>
	    <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="figs/incoming/ascii_commandments.txt" parse="text"/>
	  </programlisting>
	</figure>

        <programlisting>

















        </programlisting>



        <sect2>
          <title>Examples vs. Figures</title>
          <para>In some cases, it may be more appropriate to use an
          <markup>&lt;example&gt;</markup> instead of a
          <markup>&lt;figure&gt;</markup> to “illustrate” a verbatim
          block. Your editor can provide more guidance here.</para>
        </sect2>
    </sect1>

  <sect1>
    <title>Incoming Graphics</title>

    <para>For screenshots or other illustrations for which you’re
    providing a graphic file, use standard
    <markup>&lt;figure&gt;</markup> markup as demonstrated in the
    source below (and as described in our “Get Started Writing in
    DocBook” guide<footnote><para><ulink
    url="https://prod.oreilly.com/external/tools/docbook/docs/authoring/"/></para></footnote>).</para>

      <figure id="std_fig_ms_version">
	<title>Traditional Figure (Raw Version, MS Stage)</title>
	<mediaobject>
	  <imageobject>
            <imagedata fileref="figs/incoming/ch02dia1.png"/>
	  </imageobject>
	</mediaobject>
      </figure>

      <para>In the MS phase, it will look something like <xref
      linkend="std_fig_ms_version"/> in PDFs rendered by our build
      system. During the production phase, the figure will be
      processed to look something more like <xref
      linkend="std_fig_print_version"/> in the printed book.</para>

      <para>Reminder: for instructions on preparing the actual graphic
      files, please see <ulink
      url="https://prod.oreilly.com/external/illustrations/"/>, and
      contact our illustration staff with any questions or for
      special cases as explained therein.</para>

      <figure id="std_fig_print_version" float="none">
	<title>Processed Version of <xref linkend="std_fig_ms_version"/></title>
	<mediaobject>
	  <imageobject role="print">
	    <imagedata fileref="figs/print/svc_0201.pdf" format="PDF"/>
	  </imageobject>
	</mediaobject>
      </figure>

    </sect1>


</chapter>
